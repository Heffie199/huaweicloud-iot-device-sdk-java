package com.huaweicloud.sdk.iot.device.demo;

import com.huaweicloud.sdk.iot.device.IoTDevice;



/**
 * This code is generated by FreeMarker
 *
 */
public class ${device.deviceType}
{

    public static void main(String args[]) throws InterruptedException {

        //todo 请替换为自己的设备参数
        String serverUri = "ssl://iot-acc.cn-north-4.myhuaweicloud.com:8883";
        String deviceId = "5e06bfee334dd4f33759f5b3_demo";
        String secret = "mysecret";

        //从命令行获取设备参数
        if (args.length >= 3) {
            serverUri = args[0];
            deviceId = args[1];
            secret = args[2];
        }

        //创建设备
        IoTDevice device = new IoTDevice(serverUri, deviceId, secret);

        <#list device.serviceTypeCapabilities as service>
        ${service.serviceType}Service ${service.serviceType}ServiceInstance = new ${service.serviceType}Service();
        device.addService("${service.serviceId}", ${service.serviceType}ServiceInstance);
        ${service.serviceType}ServiceInstance.enableAutoReport(10000);

        </#list>

        if (device.init() != 0) {
            return;
        }

    }


}